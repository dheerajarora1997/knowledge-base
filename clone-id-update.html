<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>clone row ID update</title>
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
</head>

<body>
 <div class="container">
  <div class="jumbortron main-div">
   <div class="row">
    <div class="col-sm-4"><input id="api_input_0" type="text" class="form-control"></div>
    <div class="col-sm-4"><select name="select_0" id="" class="form-control">
      <option value="">111111</option>
      <option value="">22222222</option>
      <option value="">3333333</option>
      <option value="">444444444</option>
      <option value="">5555555</option>
     </select></div>
    <div class="col-sm-4"><input id="prm_input_0" type="text" class="form-control"></div>
   </div>
  </div>
  <button class="btn btn-primary" onclick="cloneDiv(this)">clone</button>
 </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
<script>
 const cloneDiv = (e) => {
  let cloneRow = $(e).siblings('.main-div').find('.row:last-child').clone();
  $('.main-div').append(cloneRow)
  $('.main-div .row').map( function(index,element){
   console.log(index, element)
   $(element).find('input:first-child').attr('id','api_input_'+index)
   $(element).find('select:first-child').attr('name','select_'+index)
   $(element).find('input:last-child').attr('id','prm_input_'+index)
  });
 }
</script>

</html>
