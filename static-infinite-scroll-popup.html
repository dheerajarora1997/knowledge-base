<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap 4.6 with jQuery</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <style>
    .modal .modal-dialog.modal-md {
      width: 550px;
      max-width: 550px;
    }

    .modal .modal-dialog {
      margin: 0;
    }

    .modal.right.fade .modal-dialog.modal-md {
      right: -550px;
    }

    .modal.right.fade.show .modal-dialog {
      right: 0;
    }


    .modal.offCanvasModal .modal-content {
      border-radius: 0;
      height: 100vh;
    }

    .modal.offCanvasModal .modal-dialog {
      height: 100%;
      position: fixed;
      transform: translate(0, 0);
    }

    .modal .modal-dialog .modal-content .modal-body {
      overflow-y: auto;
      padding: 15px;
    }
  </style>
</head>

<body>
  <button class="btn btn-warning" data-target="#add_users_to_group_modal" data-toggle="modal">modal</button>
  <div class="modal fade offCanvasModal right popup-customization" id="add_users_to_group_modal" role="dialog"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document">
      <div class="modal-content">
        <div class="modal-header border-bottom-blue">
          <h5 class="modal-title my-0"><span class="title font-weight-bold">Add User</span></h5><button
            aria-label="Close" class="close" data-container="body" data-dismiss="modal"
            data-original-title="Click Here to Close" data-placement="left" data-toggle="tooltip" title=""
            type="button"><span aria-hidden="true">Ã—</span></button>
        </div>
        <div class="modal-body">
          <div class="p-3" id="applicable_users_div">
          </div>
        </div>
        <div class="modal-footer justify-content-between"><button class="btn btn-sm btn-outline-secondary"
            data-dismiss="modal">Cancel</button><button class="btn btn-sm btn-primary border" id="assignUsersButton"
            onclick="assign_permission_to_users();">Add</button></div>
      </div>
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>

<script>
  const addData = () => {
    // alert('end reached');
    $('#applicable_users_div').append('<div class="row"><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div></div><div class="row"><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">111</span></div></div><div class="row"><div class="col-sm-4"><span class="my-4 d-inline-block">Last</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">Last</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">Last</span></div></div>');
    console.log('scroll end')
  }
  $('#add_users_to_group_modal').on('show.bs.modal', function () {
    $('#applicable_users_div').append('<div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div><div class="row"> <div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div><div class="col-sm-4"><span class="my-4 d-inline-block">000</span></div></div>');
  })
  $(function ($) {
    $('#add_users_to_group_modal .modal-body').on('scroll', function () {
      if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
        addData();
      }
    })
  });
</script>

</html>
